(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[549],{56179:function(e,t,n){"use strict";n.d(t,{T:function(){return w}});var r={};n.r(r),n.d(r,{Axis:function(){return h.RD},ChartView:function(){return h.TA},ComponentModel:function(){return h.tF},ComponentView:function(){return h.Ir},List:function(){return h.aV},Model:function(){return h.Hn},PRIORITY:function(){return h.Hr},SeriesModel:function(){return h.wJ},color:function(){return h.$_},connect:function(){return h.$j},dataTool:function(){return h.Ok},dependencies:function(){return h.HO},disConnect:function(){return h.eU},disconnect:function(){return h.zP},dispose:function(){return h.B9},env:function(){return h.OB},extendChartView:function(){return h.Zy},extendComponentModel:function(){return h.tv},extendComponentView:function(){return h.Sp},extendSeriesModel:function(){return h.Zr},format:function(){return h.WU},getCoordinateSystemDimensions:function(){return h.wL},getInstanceByDom:function(){return h.JE},getInstanceById:function(){return h.rp},getMap:function(){return h.FU},graphic:function(){return h.Q},helper:function(){return h._y},init:function(){return h.S1},innerDrawElementOnCanvas:function(){return h.z$},matrix:function(){return h.pI},number:function(){return h.Rx},parseGeoJSON:function(){return h.Nu},parseGeoJson:function(){return h.pQ},registerAction:function(){return h.zl},registerCoordinateSystem:function(){return h.RS},registerLayout:function(){return h.qR},registerLoading:function(){return h.yn},registerLocale:function(){return h.I2},registerMap:function(){return h.je},registerPostInit:function(){return h.sq},registerPostUpdate:function(){return h.Br},registerPreprocessor:function(){return h.ds},registerProcessor:function(){return h.Pu},registerTheme:function(){return h.aW},registerTransform:function(){return h.rV},registerUpdateLifecycle:function(){return h.YK},registerVisual:function(){return h.Og},setCanvasCreator:function(){return h.jQ},setPlatformAPI:function(){return h.g2},throttle:function(){return h.P2},time:function(){return h.XV},use:function(){return h.D$},util:function(){return h.D5},vector:function(){return h.xr},version:function(){return h.i8},zrUtil:function(){return h.gf},zrender:function(){return h.x_}});var i=n(85893),o=n(67294),u=n(50219),s=n(8007),c=n(41989),l=n(3667),a=n(61414),f=n(70367),d=n(6092),p=n(57140),h=n(45300),m=n(52486),x=n(11677),g=n(71395);p.D([c.N,l.N,a.N,f.N,d.N,u.N,s.N,m.T,x.z,g.N]);var v=n(66506),y=n(87357);let b=(0,o.forwardRef)(function(e,t){let{className:n,style:u,theme:s,sx:c,...l}=e,a=(0,o.useRef)(null),f=(0,o.useRef)();(0,o.useEffect)(()=>{a.current&&(f.current||(f.current=r.init(a.current,s)),f.current.isDisposed()||f.current.setOption(l))},[...Object.values(l),s]);let{elementRef:d}=(0,v.y)({onResizeObserver:()=>{var e;null===(e=f.current)||void 0===e||e.resize()}});return(0,o.useEffect)(()=>()=>{f.current&&(f.current.isDisposed()||f.current.dispose(),f.current=void 0),a.current&&(a.current=null)},[]),(0,o.useImperativeHandle)(t,()=>(f.current||(f.current=r.init(a.current,l)),f.current),[l]),(0,i.jsx)(y.Z,{ref:d,style:u,sx:c,className:n,children:(0,i.jsx)(y.Z,{ref:a,height:"100%",width:"100%"})})});var _=n(2734),j=n(41796);function w(e){let{data:t=[],color:n,sx:u=[],...s}=e,c=(0,_.Z)(),l=null!=n?n:c.palette.success.main,a=(0,o.useRef)(null),{yRangeMode:f,axisFormatter:d,height:p=32}=s,h=t.map(Number),m=Math.max(...h),x=Math.min(...h);return 0===m&&0===x&&(m=.1,x=-.1),(0,i.jsx)(b,{sx:[{height:p,width:"100%"},...u],ref:a,grid:{containLabel:f,left:0,right:0,top:f?10:0,bottom:0},xAxis:[{type:"time",show:!1,scale:!0}],yAxis:[{type:"value",show:f,scale:!0,...f?{max:m,min:x,interval:(m-x)/2}:{},splitLine:{lineStyle:{type:"dashed",color:c.palette.divider}},axisLabel:{formatter:d}}],dataset:{source:t.map((e,t)=>({price:+e,index:t}))},series:[{type:"line",smooth:!0,lineStyle:{color:l},encode:{y:"price",x:"index"},showSymbol:!1,areaStyle:{origin:"start",color:new r.graphic.LinearGradient(0,0,0,1,[{offset:0,color:(0,j.Fq)(l,.6)},{offset:1,color:(0,j.Fq)(l,0)}])}}]})}},37151:function(e,t,n){"use strict";var r=n(85893),i=n(45275),o=n(87357),u=n(55010),s=n(86010),c=n(67294),l=n(24374),a=n.n(l);let f={left:"flex-start",right:"flex-end",center:"center"},d=(0,c.memo)(function(e){let{sortType:t,sortKey:n,sortActive:i,data:l,onSort:d}=e,{width:p,sort:h,align:m="left",dataIndex:x,render:g,hide:v,...y}=l,b=(0,c.useRef)(l);(0,c.useEffect)(()=>{b.current=l},[l]);let _=a()["sort-type-".concat(t)],j=(0,c.useMemo)(()=>m||"string"!=typeof m?"object"==typeof m?Object.keys(m).reduce((e,t)=>{let n=Reflect.get(m,t);return e[t]=n?f[n]||n:void 0,e},{}):void 0:m,[m]);return(0,r.jsxs)(o.Z,{width:p,textAlign:m,display:"flex",alignItems:"center",justifyContent:j,whiteSpace:"nowrap",...y,children:[(0,r.jsx)(o.Z,{flex:h?"unset":1,children:l.title}),h?(0,r.jsxs)(o.Z,{className:(0,s.default)(a()["sort-box"],{[_]:h&&i}),role:"button",sx:{display:"inline-flex",flexDirection:"column",alignItems:"center",justifyContent:"center",cursor:"pointer"},onClick:()=>{if(void 0===t)return;let e={sortKey:x,sortType:n!==x?-1:t<=-1?1:t-1};d&&d(e.sortType,e.sortKey)},children:[(0,r.jsx)(u.rI,{className:a()["sort-icon-up"],use:"icon-caretUp",sx:[{mb:-.8},x===n&&1===t&&{color:"text.primary"}]}),(0,r.jsx)(u.rI,{className:a()["sort-icon-down"],use:"icon-caretDown",sx:[{mt:-.8},x===n&&-1===t&&{color:"text.primary"}]})]}):null]})}),p=e=>{let{pointer:t=!1,header:n=!1,padding:i,...u}=e;return(0,r.jsx)(o.Z,{sx:[{px:{sm:i?i/10:3.2,xs:1.6},py:1.6,userSelect:"none",display:"flex",alignItems:"center",justifyContent:"space-between",fontSize:16,borderBottom:"1px solid var(--divider)"},n?{color:"text.secondary",fontSize:{xs:12,sm:14},py:1.2}:{transition:"background-color 0.2s","&:hover":{backgroundColor:"action.hover"}},t&&{cursor:"pointer"}],...u})};t.Z=function(e){let{columns:t,dataSource:n,onSort:s,loading:c=!1,sortType:l,sortKey:a,padding:f,rowKey:h,onRowClick:m}=e;return(0,r.jsx)(u.gb,{visible:c,children:(0,r.jsxs)(o.Z,{minHeight:200,children:[(0,r.jsx)(p,{header:!0,padding:f,children:t.map((e,t)=>e.hide?null:(0,r.jsx)(d,{sortActive:e.dataIndex===a,data:e,onSort:s,sortKey:a,sortType:l},t))}),n.map((e,n)=>(0,r.jsx)(p,{padding:f,pointer:!!m,onClick:t=>null==m?void 0:m(e,t),children:t.map((t,i)=>{let{width:u,align:s="left",dataIndex:c,hide:l,render:a,sort:f,...d}=t;if(l)return null;let p=e[c],h="function"==typeof a?a(p,e,n):(0,r.jsx)(r.Fragment,{children:p});return(0,r.jsx)(o.Z,{width:u,textAlign:s,fontSize:{sm:"16px",xs:"14px"},...d,children:h},i)})},h?h(e):n)),!n.length&&!c&&(0,r.jsx)(i.Z,{})]})})}},42294:function(e,t,n){"use strict";var r=n(85893),i=n(93284),o=n(30683),u=n(2734),s=n(87357),c=n(51233),l=n(29950),a=n(87079),f=n(55010),d=n(53860),p=n(74597),h=n(63770),m=n(78727),x=n(11163),g=n(67294),v=n(26793),y=n(70003),b=n(42965);function _(e){let{t}=(0,v.$)(),n=(0,g.useRef)({lastValue:"",trigger:new y.t}),u=(0,g.useMemo)(()=>[{code:"spot",name:t("Public.Spot").toLocaleUpperCase()},{code:"perpetual",name:t("Public.Perpetual",{defaultValue:"Perpetual"}).toLocaleUpperCase()}],[t]),f=(0,x.useRouter)(),{filterValue:p,onEdit:_}=e,[j,w]=(0,g.useState)(u[0].code),[I,C]=(0,g.useState)([]),[R,S]=(0,g.useState)({}),{isLogin:Z}=(0,l.hn)(),k=(0,g.useCallback)((e,t)=>{if(!Z){f.push((0,h.uR)(f.asPath));return}(0,a.Qu)({currency:j,instrumentName:e,isFavourite:t}).then(i.R).then(()=>{_&&_(t),(0,a.NC)().then(i.R).then(e=>{S(e)}).catch(()=>{})}).catch(()=>{})},[j,f,Z,_]);return(0,g.useEffect)(()=>{let e=d.b.readInstruments({kind:j}).subscribe(e=>{e&&C(Object.values(e).filter(e=>e.is_active))});return()=>{e.unsubscribe()}},[j]),(0,g.useEffect)(()=>{let e=n.current.trigger.pipe((0,b.b)(1500)).subscribe(e=>{let{value:t,arr:r}=e;n.current.lastValue!==t&&(m.Z.HomePageSearch.onSearch({searchValue:t,hasResult:r.length>0,search_result_num:r.length}),n.current.lastValue=t)});return()=>{e.unsubscribe()}},[]),(0,g.useEffect)(()=>{Z&&(0,a.NC)().then(e=>{S(e.result)})},[Z]),(0,g.useEffect)(()=>{if(!p)return;let e=I.filter(e=>e.show_name.toLocaleLowerCase().includes(p.toLocaleLowerCase()));n.current.trigger.next({value:p,arr:e})},[j,p,I,R,f,k]),(0,r.jsxs)(s.Z,{sx:{bgcolor:"background.paper",boxShadow:"0px 4px 16px rgba(0, 0, 0, 0.15)",borderRadius:"8px"},children:[(0,r.jsx)(c.Z,{alignItems:"center",spacing:2.4,direction:"row",px:1.6,pt:1.8,pb:1,children:u.map(e=>(0,r.jsx)(s.Z,{sx:[{cursor:"pointer",borderBottom:"2px solid",borderColor:"transparent",transition:"border-color 0.2s",pb:1.2},e.code===j&&{fontWeight:700,borderColor:"primary.main"}],onClick:()=>{w(e.code)},children:e.name.toUpperCase()},e.code))}),(0,r.jsx)(s.Z,{sx:{overflowY:"auto",maxHeight:265,px:.8},children:I.map((e,t)=>{var n;if(p&&!e.show_name.toLocaleLowerCase().includes(p.toLocaleLowerCase()))return null;let i=null===(n=R[j])||void 0===n?void 0:n.includes(e.instrument_name),u="/".concat(e.kind,"/").concat(e.instrument_name);return(0,r.jsxs)(s.Z,{"data-index":t,sx:{padding:e=>e.spacing(1.2,.8),cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",transition:"background-color 0.2s",borderRadius:"4px","&:hover":{bgcolor:"action.hover"}},onClick:()=>{m.Z.HomePageSearch.onSearchResultClick({key_word:p||"",click_word:e.show_name,click_position:String(t)}),f.push(u)},children:[(0,r.jsx)(s.Z,{children:e.show_name}),(0,r.jsx)(o.Z,{value:i,sx:{fontSize:16},onEditFavorites:t=>{k(e.instrument_name,t)}})]},t)})})]})}t.Z=(0,g.memo)(function(e){let{onEdit:t,sx:n=[]}=e,{palette:i}=(0,u.Z)(),[o,c]=(0,g.useState)(!1),[l,a]=(0,g.useState)(""),d=(0,g.useRef)(!1),h=(0,g.useCallback)(()=>{m.Z.HomePageSearch.onSearchBtnClick()},[]);return(0,r.jsx)(f.Lt,{trigger:"click",overlay:(0,r.jsx)(_,{onEdit:t,filterValue:l}),visible:o,onVisibleChange:e=>{setTimeout(()=>{(!d.current||e)&&c(e)})},children:(0,r.jsx)(s.Z,{sx:[{".snails-input":{".snails-input-addon-before":{pl:1.2},".snails-input-item":{color:"text.secondary",pl:1.2}}},...n],children:(0,r.jsx)(f.II,{theme:i.mode,onFocus:()=>{h(),d.current=!0},onBlur:()=>{d.current=!1},value:l,size:40,onChange:e=>{a((0,p.b)(e.currentTarget," "))},addonBefore:(0,r.jsx)(s.Z,{sx:{pr:1.2,borderRight:"1px solid",borderColor:"divider"},children:(0,r.jsx)(f.rI,{use:"icon-a-search-normal1",sx:{fontSize:20,color:"text.secondary"}})})})})})})},63186:function(e,t,n){"use strict";n.d(t,{bw:function(){return f},vG:function(){return d}});var r=n(85893),i=n(51233),o=n(87357),u=n(15861),s=n(33334),c=n(29323);let l=e=>{let{symbol:t="",secondaryText:n,split:r="-"}=e,[i,o]=t.split(r),u=s.y.iconMap[i];return{config:u,coin:i,secondaryText:null!=n?n:o}},a=e=>{let{src:t,children:n,stackProps:u,imgProps:s,hideIcon:c=!1}=e;return(0,r.jsxs)(i.Z,{direction:"row",alignItems:"center",...u,children:[!c&&(0,r.jsx)(o.Z,{component:"img",width:32,height:32,src:t,...s}),n]})},f=(0,c.Pi)(e=>{let{value:t,split:n}=e,{config:i}=l({symbol:t,split:n});return i?(0,r.jsx)(a,{src:i.iconSvg,stackProps:{spacing:.8},children:(0,r.jsxs)(o.Z,{overflow:"hidden",textOverflow:"ellipsis",children:[(0,r.jsx)(u.Z,{variant:"h5",children:t}),(0,r.jsx)(u.Z,{variant:"subtitle2",color:"text.secondary",noWrap:!0,children:i.fullName})]})}):(0,r.jsx)(r.Fragment,{children:"--"})}),d=(0,c.Pi)(e=>{let{symbol:t,coinProps:n,showName:u,hideIcon:s,split:c,imgProps:f,...d}=e,{config:h}=l({symbol:t,split:c});return(0,r.jsx)(a,{hideIcon:s,src:null==h?void 0:h.iconSvg,stackProps:{spacing:{md:1.6,xs:.8}},imgProps:{width:{md:32,xs:24},height:{md:32,xs:24},...f},children:(0,r.jsx)(i.Z,{direction:"row",alignItems:"center",fontSize:{sm:16,xs:14},...d,children:(0,r.jsx)(o.Z,{...n,children:(0,r.jsx)(p,{showName:u,split:"/"})})})})});function p(e){let{showName:t,split:n}=e,i=t.split(n);return(0,r.jsx)(r.Fragment,{children:i.map((e,t)=>(0,r.jsxs)(o.Z,{component:"span",sx:{fontWeight:t?void 0:"700",color:t?"var(--textSecondary)":"var(--textPrimary)"},children:[t?"/":"",e]},t))})}},7100:function(e,t,n){"use strict";n.d(t,{r:function(){return o}});var r=n(85893),i=n(87357);function o(e){var t;return(0,r.jsxs)(i.Z,{display:"flex",flexDirection:"column",minHeight:"100vh",position:"relative",minWidth:360,style:null===(t=e.styles)||void 0===t?void 0:t.root,children:[e.header,(0,r.jsx)(i.Z,{component:"main",flexGrow:1,position:"relative",minHeight:900,display:"flex",flexDirection:"column",...e.mainBoxProps,children:e.main}),e.footer]})}},30683:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(85893),i=n(55010),o=n(86010),u=n(67294),s=n(73042),c=n.n(s),l=(0,u.memo)(function(e){let{value:t,onEditFavorites:n,...u}=e,s=(0,o.default)(t?c()["favorite-icon"]:c()["unfavorite-icon"]);return(0,r.jsx)(i.rI,{className:s,onClick:e=>{e.stopPropagation(),n&&n(!t)},use:"icon-star-".concat(t?"fill":"empty"),...u})})},52365:function(e,t,n){"use strict";n.d(t,{Q9:function(){return s},ET:function(){return c},ZP:function(){return d},aN:function(){return f}});var r=n(85893),i=n(86010),o=n(59711),u=n.n(o);function s(e){let t;let{className:n,children:o,withSign:s,value:c}=e;if(!c)return(0,r.jsx)(r.Fragment,{children:o});let l="string"==typeof c?parseFloat(c):c;l>=0?t="green":l<0&&(t="red");let a=null;s&&(l>0?a="+":l<0&&(a="-"));let f=(0,i.default)(u()["render-font-cps"],n,t?u()["font-".concat(t)]:null);return(0,r.jsxs)("span",{className:f,children:[a,o]})}function c(e){let t;let{className:n,children:o,withSign:s,value:c}=e;if(!c)return(0,r.jsx)(r.Fragment,{children:o});let l="string"==typeof c?parseFloat(c):c;l>=0?t="green":l<0&&(t="red");let a=null;s&&(l>0?a="+":l<0&&(a="-"));let f=(0,i.default)(u()["render-font-icon"],n,t?u()["font-".concat(t)]:null);return(0,r.jsxs)("span",{className:f,children:[a,o]})}let l=["buy","open long","close short"];function a(e){let{children:t,type:n="",...i}=e,o=l.includes(null==n?void 0:n.toLowerCase())?1:-1;return(0,r.jsx)(s,{value:o,...i,children:t})}function f(e){return(0,r.jsx)(a,{type:e,children:e})}var d=a},45275:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(85893),i=n(2734),o=n(55010);n(67294);var u=n(26793);function s(){let e=(0,i.Z)(),{t}=(0,u.$)();return(0,r.jsx)(o.HY,{label:t("Public.NoData"),theme:e.palette.mode})}},69350:function(e,t,n){"use strict";n.d(t,{Cf:function(){return d},Kx:function(){return h},aU:function(){return p},iE:function(){return f}}),n(85893);var r=n(49296),i=n(26042),o=n(53860),u=n(87281),s=n(18548),c=n(68949),l=n(67294),a=n(89736);function f(e){var t,n,i,o,c,l,a,f;let d={price:e?null!==(n=(0,u.ed)(e.tick_size).dp())&&void 0!==n?n:-0:2,amount:e?null!==(i=(0,u.ed)(e.min_trade_amount).dp())&&void 0!==i?i:-1:2,min_trade_amount:null!==(o=null==e?void 0:e.min_trade_amount)&&void 0!==o?o:"0",min_total_amount:null!==(c=null==e?void 0:null===(t=e.min_notional)||void 0===t?void 0:t.toString())&&void 0!==c?c:"0",leverage:null!==(l=null==e?void 0:e.leverage)&&void 0!==l?l:5,stop_loss_price:e?null!==(a=(0,u.ed)(e.tick_size).dp())&&void 0!==a?a:-1:2,trigger_price:e?null!==(f=(0,u.ed)(e.tick_size).dp())&&void 0!==f?f:-1:2,validate(e,t){let n=e.indexOf("price")>-1?"price":"amount";return s.s.validFixed(d[n])(t)},validatePricePrecision(e){if(this.instrument&&e){let t=(0,u.ed)(this.instrument.tick_size);if(!(0,u.ed)(e).div(t).isInteger())return(0,r.vA)("Public.Message.BigPricePrecision",{decimal:t.toNumber()})}},fixPrice(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.NK.ROUND_UP,n=!(arguments.length>2)||void 0===arguments[2]||arguments[2];return this.instrument&&e?function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:u.NK.ROUND_UP,i=!(arguments.length>4)||void 0===arguments[4]||arguments[4],o=(0,u.ed)(t);if(o.gt(1)&&i)return e;let s=(0,u.ed)(e).div(o);return s.isInteger()?e:o.multipliedBy(s.integerValue(r)).toFixed(n)}(e,this.instrument.tick_size,this.price,t,n):e},instrument:null!=e?e:null};return d}function d(){let{kind:e,instrumentName:t=""}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[n,r]=(0,l.useState)();(0,l.useEffect)(()=>{if(e){let t=o.b.readInstruments({kind:e}).subscribe(e=>{e&&r(e)});return()=>t.unsubscribe()}},[e]);let i=(0,a.C)((t,n)=>{let r=n||e,i=r?o.b.findInstrument(r,t):o.b.findByInstrument(t);return f(i)},[e]);return{get:i,currentSource:null==n?void 0:n[t],data:n}}function p(e){let{kind:t,instrumentName:n}=e,[r,i]=(0,l.useState)(),u=n.endsWith("-SPOT")||n.endsWith("-MARGIN")?n:"margin"===t||"spot"===t?"".concat(n,"-").concat(t).toUpperCase():n,{get:s,data:a}=d({kind:t});(0,l.useEffect)(()=>(0,c.EH)(()=>{i(o.b.findInstrument(t,u))}),[u,t]);let p=(0,l.useMemo)(()=>f(r),[r]);return{get:s,get current(){return p},configs:a,instrumentSource:r}}function h(e){let{kind:t,instrumentName:n}=e,r=(0,l.useRef)(n),u=(0,l.useRef)(t);u.current=t;let s=(0,i.yt)(),[a,f]=(0,l.useState)(),d=(0,l.useMemo)(()=>r.current!==n?(r.current=n,s):{...s,...a},[a,n,s]);return(0,l.useEffect)(()=>{let e=(0,c.U5)(()=>o.b[u.current],e=>f(e[r.current]));return()=>{e()}},[]),d}},30268:function(e,t,n){"use strict";n.d(t,{$:function(){return l},b:function(){return c}});var r=n(93284),i=n(29950),o=n(87079),u=n(67655),s=n(67294);function c(e,t,n){let{currentPage:c,isFavourite:l,count:a,partitionId:f,stopRequest:d=!0}=null!=t?t:{},[p,h]=(0,s.useReducer)(e=>e+1,0),[m,x]=(0,s.useState)(!1),{isLogin:g}=(0,i.hn)(),[v,y]=(0,s.useState)({count:0,total:0,totalPage:0,offset:1,data:[]});return(0,s.useEffect)(()=>{if(!g&&l)return y({count:0,total:0,totalPage:0,offset:1,data:[]});if(d)return;let t=function(e,t,n){let i;let{isFavourite:s,currentPage:c,count:l=20,partitionId:a}=null!=n?n:{},f=[],d=null,p=!1;async function h(){try{let t=await (0,o.Hs)({count:l,offset:c||1,...e,isFavourite:s,partitionId:a}).then(r.R);if(p)return;return d=t,f.forEach(e=>{e(t)}),i=setTimeout(()=>{h()},3e3),t}catch(e){(0,u.b)(e)}}let m=h();return{data(e){return d&&e(d),f.push(e),this},first:()=>m,cancel:()=>{p=!0,i&&clearTimeout(i)}}}({currency:e.currency,sortMethod:e.sortMethod,sortType:e.sortType},0,{isFavourite:l,currentPage:c,count:a,partitionId:"spot"===e.currency?f:void 0});return t.data(e=>{let{data:t=[],offset:n=1,totalPage:r=1}=e;y({...e,offset:n>r?r:n,data:t.map((e,t)=>({...e,originIndex:t}))})}),x(!0),t.first().finally(()=>{x(!1)}),t.cancel},[c,n,l,g,p,e.currency,e.sortMethod,e.sortType,f,a,d]),{marketListData:v,getNewData:h,loading:m}}function l(e,t,n){let{currentPage:c,isFavourite:l,count:a}=null!=t?t:{},[f,d]=(0,s.useReducer)(e=>e+1,0),[p,h]=(0,s.useState)(!1),[m,x]=(0,s.useState)({count:0,total:0,totalPage:0,offset:1,data:[]}),{isLogin:g}=(0,i.hn)();return(0,s.useEffect)(()=>{if(!g&&l)return x({count:0,total:0,totalPage:0,offset:1,data:[]});let t=function(e,t,n){let i;let{isFavourite:s,currentPage:c,count:l=20}=null!=n?n:{},a=[],f=null,d=!1;async function p(){try{let n=await (t?(0,o.F)({count:l,offset:c||1,...e,isFavourite:s}).then(r.R):(0,o.f9)({count:l,offset:c||1,...e}).then(r.R));if(d)return;return f=n,a.forEach(e=>{e(n)}),i=setTimeout(()=>{p()},3e3),n}catch(e){(0,u.b)({error:e})}}let h=p();return{data(e){return f&&e(f),a.push(e),this},first:()=>h,cancel:()=>{d=!0,i&&clearTimeout(i)}}}({currency:e.currency,sortMethod:e.sortMethod,sortType:e.sortType},g,{isFavourite:l,currentPage:c,count:a});return t.data(e=>{let{data:t=[],offset:n=1,totalPage:r=1}=e;x({...e,offset:n>r?r:n,data:t.map((e,t)=>({...e,originIndex:t}))})}),h(!0),t.first().finally(()=>{h(e=>!e)}),t.cancel},[c,n,l,g,f,e.currency,e.sortMethod,e.sortType,a]),{marketListData:m,getNewData:d,loading:p}}},26042:function(e,t,n){"use strict";n.d(t,{GR:function(){return c},g6:function(){return o},kJ:function(){return l},yt:function(){return u}});var r=n(67294);let i=(0,r.createContext)({}),o=i.Provider,u=()=>(0,r.useContext)(i),s=(0,r.createContext)(null),c=s.Provider,l=()=>(0,r.useContext)(s)},87079:function(e,t,n){"use strict";n.d(t,{F:function(){return o},Hs:function(){return u},NC:function(){return c},Qu:function(){return s},Tc:function(){return l},f9:function(){return i}});var r=n(59784);function i(e){return r.c.post("/public/index_market_list",{data:e})}function o(e){return r.c.post("/private/index_market_list",{data:e})}function u(e){return r.c.post("/public/index_market_partition_list",{data:e})}function s(e){return r.c.post("/private/update_myfavourite_list",{data:e})}function c(){return r.c.post("/private/myfavourite_list")}let l=()=>r.c.post("/public/get_index_product")},53860:function(e,t,n){"use strict";n.d(t,{b:function(){return l}});var r=n(14924),i=n(81730),o=n(68949),u=n(32817),s=n(24635),c=n(29127);let l=new class{findInstrument(e,t){var n;return null===(n=Reflect.get(this,e))||void 0===n?void 0:n[t]}findByInstrument(e){var t;let n=e.split("-").pop();return n?null===(t=Reflect.get(this,n.toLowerCase()))||void 0===t?void 0:t[e]:void 0}readInstruments(e){let{kind:t}=e;return Object.keys(this[t]).length>0?(0,u.of)(this[t]):this.getInstruments(e).pipe((0,c.U)(e=>e?this[t]:null))}readTraceInstruments(){return Object.keys(this.traceInstrument).length>0?(0,u.of)(this.traceInstrument):this.getInstruments({kind:"perpetual"}).pipe((0,c.U)(()=>this.traceInstrument))}getInstruments(e){let{kind:t}=e;return this.pendingRequest[t]||Reflect.set(this.pendingRequest,t,i.X.getInstruments(e).finally(()=>{Reflect.deleteProperty(this.pendingRequest,t)})),(0,s.D)(this.pendingRequest[t]).pipe((0,c.U)(e=>((0,o.z)(()=>{e.result&&this.setInstrument(t,e.result)}),e)))}setInstrument(e,t){let n=t.find(e=>e.is_active);n&&(this.firstValue[e]=n);let r=t.reduce((e,t)=>(Reflect.set(e,t.instrument_name,t),t.support_trace_trade&&Reflect.set(this.traceInstrument,t.instrument_name,t),e),{});Reflect.set(this,e,r)}constructor(){(0,r.Z)(this,"pendingRequest",{}),(0,r.Z)(this,"perpetual",{}),(0,r.Z)(this,"spot",{}),(0,r.Z)(this,"margin",{}),(0,r.Z)(this,"option",{}),(0,r.Z)(this,"future",{}),(0,r.Z)(this,"firstValue",{}),(0,r.Z)(this,"traceInstrument",{}),(0,o.rC)(this,{perpetual:o.LO.shallow,spot:o.LO.shallow,margin:o.LO.shallow,option:o.LO.shallow,future:o.LO.shallow,setInstrument:o.aD,firstValue:o.LO.shallow,traceInstrument:o.LO.shallow}),this.readInstruments({kind:"perpetual"}).subscribe(),this.readInstruments({kind:"spot"}).subscribe()}}},74597:function(e,t,n){"use strict";n.d(t,{b:function(){return r},z:function(){return i}});let r=(e,t)=>{if(e&&(null==t?void 0:t.length)){let{selectionStart:n,selectionEnd:r}=e;if(e.value){let i=e.value.split(""),o=i.filter((e,i)=>{let o=t.includes(e);return o&&(i<=n&&n--,i<=r&&r--),!o}).join("");return e.value=o,e.setSelectionRange&&e.setSelectionRange(n,r),o}}return null==e?void 0:e.value},i=(e,t,n,i)=>{let{onChange:o,...u}=n||{};return e.register(t,{...u,onChange:e=>{r(null==e?void 0:e.target,i),null==o||o(e)}})}},24374:function(e){e.exports={"sort-type-1":"MarketTable_sort-type-1__Diwy5","sort-icon-down":"MarketTable_sort-icon-down__sSnrh","sort-type--1":"MarketTable_sort-type--1__uL4IZ","sort-icon-up":"MarketTable_sort-icon-up__PjVI1"}},73042:function(e){e.exports={"unfavorite-icon":"FavoriteIcon_unfavorite-icon__Dh4cO","favorite-icon":"FavoriteIcon_favorite-icon__LWjJT"}},59711:function(e){e.exports={"render-font-cps":"RenderFont_render-font-cps__YGos4","font-red":"RenderFont_font-red__daDtQ","font-green":"RenderFont_font-green__4fZDX","render-font-icon":"RenderFont_render-font-icon__acV8G"}}}]);