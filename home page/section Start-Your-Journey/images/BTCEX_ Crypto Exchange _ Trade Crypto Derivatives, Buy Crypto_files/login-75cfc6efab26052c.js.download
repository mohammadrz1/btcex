(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3459],{73700:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return n(159)}])},84524:function(e,t,n){"use strict";n.d(t,{n:function(){return a}});var r=n(85893),i=n(30781),l=n(3496),c=n(87357),o=n(55010),s=n(67294),u=n(26793);function a(e){let{onFinish:t,loading:n,titleElement:a,email:d,...g}=e,{t:x}=(0,u.$)(),h=(0,s.useRef)(),[j,m]=(0,s.useState)(!0);return(0,r.jsxs)(r.Fragment,{children:[a,(0,r.jsx)(i.Z,{...g,loading:n,labelExtra:(0,r.jsx)(l.qK,{ticket:d,autoSend:!0}),onFinish:e=>{h.current=e,m(!1),null==t||t(e)},unFinish:()=>{m(!0),h.current=void 0}}),(0,r.jsx)(c.Z,{mt:"32px",children:(0,r.jsx)(o.zx,{fullWidth:!0,size:48,disabled:j,loading:n,onClick:()=>{h.current&&(null==t||t(h.current))},children:x("Guide.Next")})})]})}},73158:function(e,t,n){"use strict";n.d(t,{p:function(){return c}});var r=n(85893);n(67294);var i=n(62021),l=n.n(i);function c(e){return(0,r.jsxs)("div",{className:l().root,children:[(0,r.jsxs)("div",{className:l().content,children:[e.title&&(0,r.jsx)("h3",{className:l().title,children:e.title}),e.children]}),e.extract]})}},46271:function(e,t,n){"use strict";n.d(t,{U:function(){return a}});var r=n(85893),i=n(87357),l=n(55010),c=n(67294),o=n(26793),s=n(86691);function u(e){let{label:t,bottomContent:n,onChange:i,...l}=e,[u,a]=(0,c.useState)([]),{t:d}=(0,o.$)();return(0,r.jsx)(s.g,{...l,label:null!=t?t:d("Public.InputTFA"),bottomContent:n,value:u,onChange:e=>{a(e.valueByArray),null==i||i(e)}})}function a(e){let{onFinish:t,loading:n,titleElement:s,...a}=e,{t:d}=(0,o.$)(),g=(0,c.useRef)(),[x,h]=(0,c.useState)(!0);return(0,r.jsxs)(r.Fragment,{children:[s,(0,r.jsx)(u,{...a,loading:n,onFinish:e=>{g.current=e,h(!1),null==t||t(e)},unFinish:()=>{h(!0),g.current=void 0}}),(0,r.jsx)(i.Z,{mt:"32px",children:(0,r.jsx)(l.zx,{fullWidth:!0,size:48,disabled:x,loading:n,onClick:()=>{g.current&&(null==t||t(g.current))},children:d("Guide.Next")})})]})}},80374:function(e,t,n){"use strict";n.d(t,{g:function(){return m}});var r=n(85893),i=n(5199),l=n(67294),c=n(87357),o=n(67720),s=n(51233),u=n(98456),a=n(29950),d=n(55010),g=n(65657),x=n(6424),h=n(26793),j=n(26625);let m=e=>{let{inviteCodeInput:t}=e,n=(0,l.useRef)(null),[m,f]=(0,l.useState)(!1),{subscription:M}=(0,i.m)(),{t:p}=(0,h.$)(),I=()=>{var e;t&&x.g.set("google.login.referralCode",t),g.K.clearAuth(),f(!0),null===(e=n.current)||void 0===e||e.submit();let r=(0,j.H)(5e3).subscribe(()=>{d.UQ.error("Network.Timeout",{onClose:()=>{f(!1)}})});M.add(r)},{HTTP_HOST:w,API_VERSION:N}=(0,a.hn)(),D="".concat(w).concat(N,"/auth/google");return(0,r.jsxs)(c.Z,{mt:{xs:1.6,md:2.4},children:[(0,r.jsx)(o.Z,{sx:{color:"text.secondary"},children:"OR"}),(0,r.jsxs)(s.Z,{bgcolor:"var(--input)",borderRadius:"4px",alignItems:"center",justifyContent:"center",direction:"row",spacing:.8,height:48,mt:1.6,sx:{cursor:"pointer"},onClick:()=>I(),children:[(0,r.jsx)(c.Z,{sx:{backgroundColor:"background.paper",background:"url(".concat("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMThweCIgaGVpZ2h0PSIxOHB4IiB2aWV3Qm94PSIwIDAgMTggMTgiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8ZyBpZD0ieS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iY2FjaGUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMDAwLjAwMDAwMCwgLTc4OC4wMDAwMDApIiBmaWxsLXJ1bGU9Im5vbnplcm8iPgogICAgICAgICAgICA8ZyBpZD0iZ3JvdXAtNSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoOTgwLjAwMDAwMCwgNzc5LjAwMDAwMCkiPgogICAgICAgICAgICAgICAgPGcgaWQ9Imdvb2dsZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjAuMDAwMDAwLCA5LjAwMDAwMCkiPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0zLjc0NzYwOSw5LjA2MTIgQzMuNzQ3NjA5LDguNDcyNiAzLjg0NjYwOSw3LjkwODMgNC4wMjIxMDksNy4zNzkxIEwwLjkzOTYwOSw1LjA0NzY1IEMwLjMxOTU1MzE4NSw2LjI5NDU4NzQyIC0wLjAwMjExNDE2NjA2LDcuNjY4NjA2MTUgLTEuNDQyNDQ3NjNlLTA2LDkuMDYxMiBDLTEuNDQyNDQ3NjNlLTA2LDEwLjUwMzQ1IDAuMzM3NTA5LDExLjg2MzggMC45Mzc4MDksMTMuMDcxNiBMNC4wMTk0MDksMTAuNzM2MSBDMy44Mzk0MDksMTAuMTk2MSAzLjc0ODA1OSw5LjYzMDQ1IDMuNzQ3NjA5LDkuMDYxMiIgaWQ9InBhdGgiIGZpbGw9IiNGQkJDMDUiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOS4xNjI0NTksMy43MDggQzEwLjM5MDU5MTcsMy43MDU1Mzk2NCAxMS41ODE5Mjk5LDQuMTI3MDc3ODQgMTIuNTM1MjA5LDQuOTAxNCBMMTUuMjAwNTU5LDIuMjY2MiBDMTMuNTc2NTA5LDAuODY2NyAxMS40OTQzNTksMC4wMDEzNSA5LjE2MjQ1OSwwLjAwMTM1IEM1LjU0MTc1OSwwLjAwMTM1IDIuNDI5NTU5LDIuMDUyIDAuOTM5NjA5LDUuMDQ3NjUgTDQuMDI0MzU5LDcuMzc5MSBDNC43MzQ0NTksNS4yNDM0IDYuNzU5NDU5LDMuNzA3NTUgOS4xNjMzNTksMy43MDc1NSIgaWQ9InBhdGgiIGZpbGw9IiNFQTQzMzUiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOS4yMDE2MDksMTQuMjk1MTUgQzYuNzg1MTA5LDE0LjI5NTE1IDQuNzUwMjA5LDEyLjc2OTIgNC4wMzU2MDksMTAuNjQ2NTUgTDAuOTM3MzU5LDEyLjk2NDA1IEMyLjQzNDUwOSwxNS45NDEyNSA1LjU2MjAwOSwxNy45Nzg0IDkuMjAxNjA5LDE3Ljk3ODQgQzExLjQ0NjY1OSwxNy45Nzg0IDEzLjU5MDQ1OSwxNy4xOTgxIDE1LjIwMDEwOSwxNS43MzQ3IEwxMi4yNTg0NTksMTMuNTA4MSBDMTEuNDI5MTA5LDE0LjAxOTc1IDEwLjM4Mzc1OSwxNC4yOTU2IDkuMjAwNzA5LDE0LjI5NTYiIGlkPSJwYXRoIiBmaWxsPSIjMzRBODUzIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE3Ljk5MDEwOSw4Ljk3NTcgQzE3Ljk5MDEwOSw4LjQ0MzggMTcuOTA1OTU5LDcuODcwNSAxNy43ODA4NTksNy4zMzg2IEw5LjIwMDcwOSw3LjMzODYgTDkuMjAwNzA5LDEwLjgxNzEgTDE0LjEzOTAwOSwxMC44MTcxIEMxMy44OTI4NTksMTIuMDAzMyAxMy4yMjEwMDksMTIuOTE1IDEyLjI1ODkwOSwxMy41MDgxIEwxNS4yMDAxMDksMTUuNzM0NyBDMTYuODkwNzU5LDE0LjE5ODg1IDE3Ljk5MDEwOSwxMS45MTA2IDE3Ljk5MDEwOSw4Ljk3NTciIGlkPSJwYXRoIiBmaWxsPSIjNDI4NUY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg==",") no-repeat center center"),backgroundSize:"75%",borderRadius:"50%",width:24,height:24}}),(0,r.jsx)(c.Z,{children:p("Login.Google")}),m&&(0,r.jsx)(u.Z,{size:14,color:"inherit"})]}),(0,r.jsx)("form",{ref:n,action:D,method:"GET",children:(0,r.jsx)("input",{name:"redirectUri",value:"login/google",type:"hidden"})})]})}},43747:function(e,t,n){"use strict";n.d(t,{e:function(){return h}});var r,i,l=n(85893),c=n(55010),o=n(87357),s=n(15861),u=n(11163),a=n(26793),d=n(67294);function g(){return(g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var x=function(e){return d.createElement("svg",g({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=d.createElement("g",{clipPath:"url(#clip0_2927_36736)"},d.createElement("path",{d:"M8.68537 13.184C8.50121 13.1901 8.32353 13.1116 8.20097 12.9694C7.93706 12.6897 7.93965 12.2422 8.20811 11.9665L13.8302 6.20778C14.098 5.93074 14.5318 5.93074 14.7996 6.20778C15.0674 6.48482 15.0674 6.93358 14.7996 7.21062C14.797 7.2133 14.795 7.21531 14.7925 7.21799L9.1704 12.9761C9.04007 13.1069 8.86693 13.1814 8.68537 13.184Z",fill:"currentColor"}),d.createElement("path",{d:"M13.7608 18.7853L8.19388 12.9695C7.92996 12.6885 7.93644 12.2397 8.20749 11.9667C8.47595 11.6964 8.90522 11.6997 9.16979 11.9741L14.7367 17.7899C15.0013 18.0689 14.998 18.517 14.7296 18.7927C14.5999 18.9235 14.4261 18.998 14.2452 19.0007C14.0623 18.9993 13.8873 18.9222 13.7608 18.7853Z",fill:"currentColor"}))),i||(i=d.createElement("defs",null,d.createElement("clipPath",{id:"clip0_2927_36736"},d.createElement("rect",{width:7,height:13,fill:"white",transform:"translate(8 6)"})))))};function h(e){let{t}=(0,a.$)(),{to:n,size:r="medium",children:i=t("Public.Back"),mb:d=1.6,showChildren:g=!0,onClick:h,...j}=e,m=(0,u.useRouter)();return(0,l.jsxs)(o.Z,{mb:d,display:"inline-flex",alignItems:"center",sx:{cursor:"pointer"},onClick:e=>{if(h){h(e);return}n?m.push(n):m.back()},...j,children:[(0,l.jsx)(c.JO,{svg:(0,l.jsx)(x,{})}),g&&(0,l.jsx)(s.Z,{variant:"h4",ml:.5,fontWeight:700,sx:["large"===r&&{fontSize:18,lineHeight:"33px"}],children:null!=i?i:t("Public.Back")})]})}},7100:function(e,t,n){"use strict";n.d(t,{r:function(){return l}});var r=n(85893),i=n(87357);function l(e){var t;return(0,r.jsxs)(i.Z,{display:"flex",flexDirection:"column",minHeight:"100vh",position:"relative",minWidth:360,style:null===(t=e.styles)||void 0===t?void 0:t.root,children:[e.header,(0,r.jsx)(i.Z,{component:"main",flexGrow:1,position:"relative",minHeight:900,display:"flex",flexDirection:"column",...e.mainBoxProps,children:e.main}),e.footer]})}},30781:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(85893),i=n(55010),l=n(67294),c=n(26793),o=n(86691),s=n(17909),u=n.n(s);function a(e){let{label:t,bottomContent:n,onChange:s,...a}=e,[d,g]=(0,l.useState)([]),{t:x}=(0,c.$)();return(0,r.jsx)(o.g,{...a,label:null!=t?t:x("ResetPassword.EmailCode"),bottomContent:{left:(0,r.jsx)(i.u,{placement:"right",overlay:(0,r.jsx)("div",{className:u().overlay,children:x("Public.EmailTipContent")}),children:(0,r.jsxs)("span",{className:u().tooltip,children:[x("Public.EmailTip"),(0,r.jsx)(i.JO,{className:u().icon,code:"icon-question"})]})}),...n},value:d,onChange:e=>{g(e.valueByArray),null==s||s(e)}})}},39246:function(e,t,n){"use strict";n.d(t,{A:function(){return m}});var r=n(85893),i=n(89736),l=n(87357),c=n(51233),o=n(15861),s=n(55010),u=n(67294),a=n(26793),d=n(22401),g=n(29127),x=n(42965),h=n(53741);let j=[{label:"Public.PasswordTip01",regExp:/^\S{8,32}$/},{label:"Public.PasswordTip02",regExp:/[A-Z]/},{label:"Public.PasswordTip03",regExp:/[a-z]/},{label:"Public.PasswordTip04",regExp:/[0-9]/}];function m(e){let{t}=(0,a.$)(),{children:n,val:m,autoFill:f=!1,disableTooltip:M=!1,...p}=e,[I,w]=(0,u.useState)(),[N,D]=(0,u.useState)(!1),[C,A]=(0,u.useState)(),L=(0,i.C)(()=>C||(M||f?"password":"text")),b=(0,i.C)(()=>C&&"password"!==C?"icon-a-Group2439":"icon-a-Group2440"),v=(0,u.useRef)(),y=(0,i.C)((e,t)=>{try{if(!e)return;"INPUT"===e.tagName?("function"==typeof t?t(e):t&&(t.current=e),v.current=e):v.current=e.getElementsByTagName("INPUT")[0]}catch(e){console.error(e)}}),T=(0,i.C)(()=>{if("function"==typeof n){let e=n({...p,type:L(),EyeElement:(0,r.jsx)(l.Z,{component:s.JO,color:"text.secondary",style:{fontSize:16},onClick:()=>A(e=>e?"password"===e?"text":"password":"text"),type:b()})}),t=(0,u.cloneElement)(e,{ref:t=>y(t,e.ref)});return t}let e=u.Children.only(n);return(0,u.isValidElement)(e)?(0,u.cloneElement)(e,{...p,ref:t=>y(t,e.ref)}):(0,r.jsx)("span",{children:e})});(0,u.useEffect)(()=>{if(!v.current||M)return;let e=(0,d.R)(v.current,"focus").subscribe(()=>{A(e=>e||"password"),D(!0)}),t=(0,d.R)(v.current,"blur").subscribe(()=>{D(!1)});return()=>{e.unsubscribe(),t.unsubscribe()}},[M]);let E=(0,s.Gc)(),_=void 0!==m;return(0,u.useEffect)(()=>{if(!_&&v.current){let e=(0,d.R)(v.current,"input").pipe((0,g.U)(e=>{var t;return e?null===(t=e.target.value)||void 0===t?void 0:t.replaceAll(" ",""):""}),(0,x.b)(300),(0,h.x)()).subscribe(e=>{w(e)});return()=>{e.unsubscribe()}}},[_]),(0,r.jsx)(s.u,{visible:N,placement:E.xl?"right":"topRight",overlay:(0,r.jsx)(c.Z,{direction:"column",spacing:1.6,component:"ul",px:.6,py:.8,children:j.map(e=>{let n=null!=m?m:I,i=n&&e.regExp.test(n);return(0,r.jsxs)(l.Z,{component:"li",display:"flex",alignItems:"center",children:[(0,r.jsx)(l.Z,{component:s.JO,type:i?"icon-a-Group2511":"icon-a-Group2512",color:i?"success.main":"error.main",style:{fontSize:12}}),(0,r.jsx)(o.Z,{variant:"subtitle2",ml:1,noWrap:!0,children:t(e.label)})]},e.label)})}),children:(0,r.jsx)(r.Fragment,{children:T()})})}},3496:function(e,t,n){"use strict";n.d(t,{gw:function(){return D},T0:function(){return p},Hs:function(){return M},qK:function(){return w},tL:function(){return m},yw:function(){return N},g8:function(){return I}});var r=n(85893),i=n(89736),l=n(93284),c=n(55010),o=n(67655),s=n(67294),u=n(26793),a=n(16697),d=n(74727);let g=(0,a.F)(1e3);function x(e){let{service:t,expired:n}=e,{t:r}=(0,u.$)(),a=(0,s.useRef)(null),[x,h]=(0,s.useState)(!1),[j,m]=(0,s.useState)(!1),[f,M]=(0,s.useState)(null!=n?n:60),p=(0,s.useRef)(!0),I=(0,i.C)(e=>{m(!0),a.current=g.pipe((0,d.q)(e)).subscribe({next(){M(e=>e-1)},complete(){a.current.unsubscribe(),a.current=null,m(!1),M(60)}})}),w=(0,i.C)(()=>{if(null!==a.current)return;let e=t();if(e instanceof Promise){h(!0),e.then(l.R).then(e=>{c.UQ.success(r("Public.EmailCodeSuccess"));let t=60;if("string"!=typeof e){let{msg:n,expire:r}=e;p.current&&c.UQ.warn(n),M(r),t=r}I(t)}).catch(e=>(0,o.b)({error:e})).finally(()=>{h(!1)});return}("number"==typeof e&&0!==e||e)&&I("boolean"==typeof e?60:e)});return(0,s.useEffect)(()=>(n&&(p.current=!1,w()),()=>{var e;return null===(e=a.current)||void 0===e?void 0:e.unsubscribe()}),[n,w]),{sendCode:w,loading:x,countdown:f,isCountdown:j}}var h=n(67099);function j(e){let{sendCode:t,loading:n,isCountdown:l,countdown:o,autoSend:a,...d}=e,{t:g}=(0,u.$)(),x=(0,i.C)(t);return(0,s.useEffect)(()=>{a&&x()},[a,x]),(0,r.jsx)(c.zx,{...d,shape:"text",loading:n,onClick:()=>{x()},children:l?"".concat(o,"s"):g("Register.Send")})}function m(e){let{serviceParams:t,...n}=e,i=x({service:()=>h.B.sendMailCode(t)});return(0,r.jsx)(j,{...n,...i})}function f(e){let{serviceParams:t,...n}=e,i=x({service:()=>h.B.sendEmailCodePublic(t)});return(0,r.jsx)(j,{...n,...i})}function M(){return(0,r.jsx)(m,{serviceParams:{type:"CHANGE_PASSWORD_CODE"}})}function p(){return(0,r.jsx)(m,{serviceParams:{type:"ANTIFISHIG_CODE"}})}function I(){return(0,r.jsx)(m,{serviceParams:{type:"withdraw_whitelist_enable_code"}})}function w(e){let{ticket:t,...n}=e;return(0,r.jsx)(f,{serviceParams:{type:"ACCOUNT_LOGIN_EMAIL_CODE",ticket:t},...n})}function N(e){return(0,r.jsx)(m,{serviceParams:{type:"withdraw_address_add_to_whitelist_code",paramMap:e.paramMap}})}function D(){return(0,r.jsx)(m,{serviceParams:{type:"BIND_GOOGLE_CODE"}})}},86691:function(e,t,n){"use strict";n.d(t,{g:function(){return l}});var r=n(5152),i=n.n(r);let l=i()(()=>n.e(8300).then(n.bind(n,68300)),{loadableGenerated:{webpack:()=>[68300]},ssr:!1})},159:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return G},default:function(){return q}});var r=n(85893),i=n(93284),l=n(43747),c=n(7100),o=n(19463),s=n(61925),u=n(64799),a=n(84524),d=n(39246),g=n(90936),x=n(89736),h=n(87357),j=n(55010),m=n(74597),f=n(63770),M=n(18548),p=n(41664),I=n.n(p),w=n(11163),N=n(67294),D=n(87536),C=n(26793),A=n(50346),L=n.n(A),b=n(80374);let v=e=>{let{form:t,onSubmit:n,loading:i}=e,l=(0,w.useRouter)(),c=(0,x.C)(()=>{var e,t;e=()=>l.push((0,f.DW)("ForgetPassword")),(0,g.f0)({children:o("ResetPassword.Security.Warning"),resolve:{label:o("Public.Continue"),action:()=>(e(),Promise.resolve(!0))},reject:{action:()=>{t&&t()}}})}),{t:o}=(0,C.$)(),s=(0,D.qo)({control:t.control,name:"password"});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:L().formTitle,children:[(0,r.jsx)("h2",{className:L().title,children:o("Login.Welcome")}),(0,r.jsx)(I(),{href:(0,f.DW)("Register"),children:(0,r.jsx)(j.zx,{color:"primary",shape:"text",children:o("Public.Register")})})]}),(0,r.jsxs)(j.l0,{className:L().form,...t,onSubmit:n,children:[(0,r.jsx)(j.xJ,{label:o("Public.Email"),name:"email",block:!0,children:(0,r.jsx)(j.II,{...(0,m.z)(t,"email",{required:o("Login.Email.Enter"),validate:{email:e=>M.s.emailForFormRule(e)}}," "),placeholder:o("Public.Email.Enter")})}),(0,r.jsx)(j.xJ,{label:(0,r.jsxs)("div",{className:L().passwordLabel,children:[o("Public.Password"),(0,r.jsx)(j.zx,{shape:"text",onClick:c,children:o("Public.Password.Reset")})]}),name:"password",block:!0,children:(0,r.jsx)(d.A,{val:s,autoFill:!0,disableTooltip:!0,children:e=>{let{type:n,EyeElement:i,...l}=e;return(0,r.jsx)(j.II,{...l,...(0,m.z)(t,"password",{required:o("Login.Password.Enter")}," "),placeholder:o("Login.Password.Enter"),type:n,addonAfter:i})}})}),(0,r.jsx)(h.Z,{mt:2.4,children:(0,r.jsx)(j.zx,{fullWidth:!0,type:"submit",loading:i,size:48,children:o("Public.Login")})})]}),(0,r.jsx)(b.g,{})]})};var y=n(97769),T=n(67099),E=n(89893),_=n(67655),S=n(6424),z=n(86010),k=n(78727),O=n(71472),P=n.n(O);let Q="QR_L_O";function B(){let[e]=(0,y.lr)(),t=e.get("cb"),[n,l]=(0,N.useState)(!0),[c,o]=(0,N.useState)(""),[s,u]=(0,N.useState)(),a=(0,x.C)(async()=>{l(!0);try{let e=await T.B.qrcodeInfo().then(i.R);o(e.qrInfo),S.g.set(Q,e.qrInfo)}catch(e){o("")}finally{u("unused"),l(!1)}});(0,N.useEffect)(()=>{let e=S.g.get(Q);e&&T.B.expireOldKey({qrInfo:e}).catch(()=>{}),a()},[a]);let d=(0,w.useRouter)(),g=(0,x.C)(async e=>{try{let t=await T.B.auth({m:e}).then(i.R);(0,E.he)(d,t)}catch(e){(0,_.b)({error:e})}S.g.remove(Q)}),m=(0,N.useRef)(),f=(0,x.C)(()=>{m.current&&clearTimeout(m.current)}),M=(0,N.useRef)(!1);(0,N.useEffect)(()=>()=>{M.current=!0},[]),(0,N.useEffect)(()=>{if(!c)return;let e=0,n=async()=>{try{let r=await T.B.qrcodeQuery({qrInfo:c}).then(i.R);e=0,-1===r.status?(u("expired"),f()):0===r.status?u("unused"):1===r.status?u("used"):2===r.status&&(u("auth"),k.Z.Login.onScanLogin(null!=t?t:"/"),g(r.m),f()),2===r.status||M.current||(m.current=setTimeout(n,2e3))}catch(t){console.error(t),++e<=10?m.current=setTimeout(n,2e3):f()}};return n(),()=>f()},[c,g,f,t]);let p="expired"===s,I="used"===s,{t:D}=(0,C.$)();return(0,r.jsxs)("div",{className:P().root,children:[(0,r.jsx)("h2",{className:P().title,children:D("Login.Qrcode")}),(0,r.jsx)("p",{className:P().text,children:D("Login.QrcodeText")}),(0,r.jsxs)("div",{className:P().qrcodeBox,children:[(0,r.jsxs)("div",{className:(0,z.default)(P().qrcodeWrap,{[P().qrcodeWrapHover]:!n&&!p&&!I}),children:[(0,r.jsx)(j.gb,{visible:n,children:(0,r.jsxs)("div",{className:P().qrcode,children:[(0,r.jsx)(j.UH,{size:160,includeMargin:1,value:"btcex://appQRcodeLogin?qrcode=".concat(c)}),(p||I)&&(0,r.jsxs)("div",{className:P().qrcodeMask,children:[p&&(0,r.jsxs)("div",{className:P().expired,role:"button",onClick:()=>{a()},children:[(0,r.jsx)(j.JO,{code:"icon-a-Group2670"}),(0,r.jsx)(h.Z,{mt:.8,children:D("Login.QrcodeExpired")})]}),I&&(0,r.jsx)(j.JO,{code:"icon-a-Group26731",className:P().used})]})]})}),(0,r.jsx)("div",{className:P().imgBox})]}),I&&(0,r.jsx)("div",{className:P().usedText,children:D("Login.QrcodeUsed")})]}),(0,r.jsx)("div",{className:P().slogan,children:D("Public.Slogan")})]})}var R=n(73158),U=n(46271);let Z=e=>{let{t,i18n:{language:n}}=(0,C.$)(),c=(0,D.cI)({mode:"onBlur"}),o=(0,w.useRouter)(),[s]=(0,y.lr)(),d=s.get("cb"),[g,m]=(0,N.useState)("basic"),[M,p]=(0,N.useState)(!1),A=(0,D.qo)({control:c.control,name:"email"}),L=(0,N.useRef)(),b=(0,x.C)(async()=>{if(k.Z.Login.onLogin(null!=d?d:""),M)return;p(!0);let{email:e,password:t}=c.getValues();try{let r=await T.B.login({email:e,password:t,language:n}).then(i.R),{binding_required:l,s:c,m:s,valid_required:u,ticket:a="",country:d=""}=r;if("email"===l){o.replace((0,f.DW)("RegisterActivation",{search:{ticket:a}}));return}if("tfa"===u){s&&c&&(L.current={m:s,s:c}),m("tfa"),p(!1);return}let g=await T.B.auth({m:s}).then(i.R);(0,E.he)(o,g)}catch(e){p(!1),(0,_.b)(e)}}),S=(0,N.useCallback)(async(e,t)=>{if(!L.current)return;p(!0);let{valueByString:n}=t;try{let{m:t}=await T.B.loginAuthenticate({...L.current,type:e,code:n}).then(i.R),r=await T.B.auth({m:t}).then(i.R);(0,E.he)(o,r)}catch(e){p(!1),(0,_.b)(e)}},[o]),z=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.e,{showChildren:!1,mb:3.2,onClick:()=>{m("basic")}}),(0,r.jsx)(h.Z,{component:"h3",fontSize:18,mb:3.2,children:t("Login.VerifyCode")})]}),O=(0,j.Gc)();return(0,r.jsxs)(R.p,{extract:O.md&&(0,r.jsx)(B,{}),children:[(0,r.jsx)(u.p,{title:t("Public.LoginTitle"),description:t("Public.LoginDesc"),keywords:t("Public.LoginKeywords")}),"basic"===g?(0,r.jsx)(v,{form:c,onSubmit:c.handleSubmit(()=>b()),loading:M}):"tfa"===g?(0,r.jsx)(U.U,{titleElement:z,loading:M,bottomContent:{left:(0,r.jsx)(I(),{href:(0,f.DW)("RecoveryCode"),children:(0,r.jsx)(j.zx,{shape:"text",size:"m",children:t("GoogleBind.RecoveryCode")})}),right:(0,r.jsx)(j.zx,{shape:"text",size:"m",onClick:()=>{m("email")},children:t("Login.ToggleToEmail")})},onFinish:e=>{S("tfa",e)}}):(0,r.jsx)(a.n,{titleElement:z,loading:M,email:A,bottomContent:{right:(0,r.jsx)(j.zx,{shape:"text",size:"m",onClick:()=>{m("tfa")},children:t("Login.ToggleToTFA")})},onFinish:e=>{S("email",e)}})]})};Z.theme="light",Z.getLayout=e=>(0,r.jsx)(c.r,{header:(0,r.jsx)(s.Z,{isSimple:!0,theme:"light"}),main:e,footer:(0,r.jsx)(o.$,{isSimple:!0})});var G=!0,q=Z},89893:function(e,t,n){"use strict";n.d(t,{he:function(){return u},pV:function(){return a},yJ:function(){return s}});var r=n(16397),i=n(78727),l=n(65657),c=n(10212),o=n(63770);let s=e=>{l.K.setAuth(e),r.xZ.getUserInfoOnce().then(e=>{if("string"!=typeof e){var t,n,r;let{search:l=""}=new URL(location.href),c=new URLSearchParams(l);i.Z.Login.loginSuccess({uid:null!==(n=null===(t=e.result)||void 0===t?void 0:t.puid)&&void 0!==n?n:"",cb:null!==(r=c.get("cb"))&&void 0!==r?r:""})}})},u=(e,t,n)=>{s(t);let{cb:r}=(0,c.Eo)(e.query),{destination:i}=null!=n?n:{};i?e.push(i):r?e.push(r):e.push("/")},a=(e,t)=>{s(t);let n=(0,c.Eo)(e.query);e.replace({pathname:(0,o.DW)("RegisterSuccess"),query:n})}},74597:function(e,t,n){"use strict";n.d(t,{b:function(){return r},z:function(){return i}});let r=(e,t)=>{if(e&&(null==t?void 0:t.length)){let{selectionStart:n,selectionEnd:r}=e;if(e.value){let i=e.value.split(""),l=i.filter((e,i)=>{let l=t.includes(e);return l&&(i<=n&&n--,i<=r&&r--),!l}).join("");return e.value=l,e.setSelectionRange&&e.setSelectionRange(n,r),l}}return null==e?void 0:e.value},i=(e,t,n,i)=>{let{onChange:l,...c}=n||{};return e.register(t,{...c,onChange:e=>{r(null==e?void 0:e.target,i),null==l||l(e)}})}},50346:function(e){e.exports={formTitle:"LoginBasic_formTitle__kAkn6",title:"LoginBasic_title__mNhrG",form:"LoginBasic_form__diu_K",passwordLabel:"LoginBasic_passwordLabel__qraaT"}},71472:function(e){e.exports={root:"QrcodeLogin_root__cPygW",title:"QrcodeLogin_title__kEOy7",text:"QrcodeLogin_text__9lT_8",qrcodeBox:"QrcodeLogin_qrcodeBox__tqwoY",usedText:"QrcodeLogin_usedText__Opz0m",qrcodeWrap:"QrcodeLogin_qrcodeWrap__0_Gxn",qrcodeWrapHover:"QrcodeLogin_qrcodeWrapHover__N_MkY",qrcode:"QrcodeLogin_qrcode__XMCZD",imgBox:"QrcodeLogin_imgBox__rjqz5",qrcodeMask:"QrcodeLogin_qrcodeMask__Fs9rT",expired:"QrcodeLogin_expired__fncOf",used:"QrcodeLogin_used__SJ_6a",slogan:"QrcodeLogin_slogan__U81E3"}},62021:function(e){e.exports={root:"SingleLayout_root__zp5Qc",content:"SingleLayout_content__82VWS",title:"SingleLayout_title__Uh3X2"}},17909:function(e){e.exports={tooltip:"EmailSplitInput_tooltip__uHEJD",icon:"EmailSplitInput_icon__h005s",overlay:"EmailSplitInput_overlay__jfpXv"}},16697:function(e,t,n){"use strict";n.d(t,{F:function(){return l}});var r=n(87074),i=n(26625);function l(e,t){return void 0===e&&(e=0),void 0===t&&(t=r.z),e<0&&(e=0),(0,i.H)(e,e,t)}}},function(e){e.O(0,[8677,8903,3373,9463,9774,2888,179],function(){return e(e.s=73700)}),_N_E=e.O()}]);